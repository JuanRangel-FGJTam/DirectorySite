@model DirectorySite.Models.RecoveryAccountResponse
@{
    ViewData["ActivePage"] = "Peticion";
}

<div class="d-flex align-items-baseline mb-2">
    <h1 class="display-6 d-flex align-items-baseline">
        @ViewBag.Title
    </h1>
  <div class="ms-auto">
    <partial name="../Shared/Breadcrumb">
  </div>
</div>

<div class="container ">
    <div class="row">
        <div class="col-8">
            <div class="row p-2">
                <div class="col-12 border-bottom mb-2">
                    <h4>Datos Generales</h4>
                </div>

                <div class="col-md-6">
                    <label class="label">Nombre</label>
                    <input type="text" class="form-control" disabled value="@Model.Name">
                </div>
                
                <div class="col-md-6">
                    <label class="label">Apellidos</label>
                    <input type="text" class="form-control" disabled value="@Model.FirstName @Model.LastName">
                </div>
                
                <div class="col-md-12">
                    <label class="label">CURP</label>
                    <input type="text" class="form-control" disabled value="@Model.Curp">
                </div>

                <div class="col-md-6">
                    <label class="label">Genero</label>
                    <input type="text" class="form-control" disabled value="@Model.GenderName">
                </div>

                <div class="col-md-6">
                    <label class="label">Fecha de nacimiento</label>
                    <input type="text" class="form-control" disabled value="@Model.BirthdateFormated">
                </div>

                <div class="col-md-6">
                    <label class="label">Nacionalidad</label>
                    <input type="text" class="form-control" disabled value="@Model.NationalityName">
                </div>
            </div>

        </div>

        <div class="col-4">
            <div class="row p-2">
                <div class="col-12 border-bottom mb-2">
                    <h4>Datos de Contacto</h4>
                </div>

                <div class="col-12">
                    <label class="label">Correo Electronico</label>
                    <input type="text" class="form-control" disabled value="@Model.ContactEmail">
                </div>

                <div class="col-12">
                    <label class="label">Correo Electronico Alterno</label>
                    <input type="text" class="form-control" disabled value="@Model.ContactEmail2">
                </div>
                
                <div class="col-12">
                    <label class="label">Telefono Contacto</label>
                    <input type="text" class="form-control" disabled value="@Model.ContactPhone">
                </div>

                <div class="col-12">
                    <label class="label">Telefono Contacto Alterno</label>
                    <input type="text" class="form-control" disabled value="@Model.ContactPhone2">
                </div>
            </div>
        </div>

        <div class="col-6">
            <div class="row p-2">
                <div class="col-12 border-bottom mb-2">
                    <h4>Solicitud</h4>
                </div>

                <div class="col-12">
                    <label class="label">Fecha solicitud</label>
                    <input type="text" class="form-control" disabled value="@Model.CreatedAt">
                </div>

                <div class="col-12">
                    <label class="label">Comentarios</label>
                    <textarea type="text" class="form-control" disabled rows="4" style="resize: none;"> @Model.RequestComments</textarea>
                </div>
            </div>
        </div>

        <div class="col-6">
            <div class="row p-2">
                <div class="col-12 border-bottom mb-2">
                    <h4>Archivos</h4>
                </div>

                <div class="col-12">
                    <label class="label mb-1">Archivos adjuntos: @Model.TotalDocuments</label>
                </div>

                <div class="col-12">
                    <ul>
                        @foreach(var f in Model.Files??[])
                        {
                            <li>
                                <a href="@f.FileUrl" target="_blank" class="btn btn-link p-0 m-0 text-truncate">@string.Join(" : ", [f.DocumentTypeName, f.FileName])</a>
                            </li>
                        }
                        @if(!(Model.Files??[]).Any())
                        {
                            <div class="alert alert-warning" role="alert">
                                No hay archivos cargados
                            </div>
                        }
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="container border rounded border-success mt-2 p-3">
    <div class="row">
        
        <div class="col-12 border-bottom mb-2">
            <h4>Respuesta</h4>
        </div>
        <div class="col-12">
            <label class="label">Comentarios</label>
            <textarea type="text" class="form-control" rows="4" style="resize: none;"> @Model.RequestComments</textarea>
        </div>

        <div class="col-12 d-flex justify-content-between pt-4">
            <button type="button" class="btn btn-success">Concluir Solicitud</button>
            <button type="button" class="btn btn-danger">Cancelar Solicitud</button>
        </div>

    </div>
</div>


@section scripts {
    <script>
        jQuery(document).ready(()=>
        {
            console.log("App loaded");
        });
    </script>
}